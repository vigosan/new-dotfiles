# ============================================================================
# Editor Aliases
# ============================================================================

alias vim='nvim'
alias vi='nvim'

# ============================================================================
# Git Functions
# ============================================================================

function git_current_branch() {
  local ref
  ref=$(git symbolic-ref --quiet HEAD 2> /dev/null)
  local ret=$?
  if [[ $ret != 0 ]]; then
    [[ $ret == 128 ]] && return  # no git repo.
    ref=$(git rev-parse --short HEAD 2> /dev/null) || return
  fi
  echo ${ref#refs/heads/}
}

# ============================================================================
# Git Aliases
# ============================================================================

alias gclean='git clean -id'
alias gco='git checkout'
alias ggpull='git pull origin "$(git_current_branch)"'
alias ggpush='git push origin "$(git_current_branch)"'
alias gp='git push'
alias gpf!='git push --force'
alias gpf='git push --force-with-lease'
alias gpristine='git reset --hard && git clean -dffx'
alias gr='git reset'
alias grh='git reset --hard'
alias groh='git reset origin/$(git_current_branch) --hard'
alias gl='git log --oneline'

{{- if .work }}

# ============================================================================
# Work-specific Aliases
# ============================================================================

alias claude='env AWS_PROFILE=ai_codegen CLAUDE_CODE_USE_BEDROCK=1 AWS_REGION=us-east-1 ANTHROPIC_MODEL="arn:aws:bedrock:us-east-1:193501891505:inference-profile/us.anthropic.claude-sonnet-4-20250514-v1:0" claude'

{{- end }}